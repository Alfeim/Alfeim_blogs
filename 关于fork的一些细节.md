#如何创建n个进程?

若要创建n个进程，最直接的方式就是循环fork,但是循环fork创建出的进程数目可能与我们直觉相悖.

如：
	for(int i = 0 ; i < n ; ++i){
		int pid = fork();
	}

我们认为，这种方式应当创建n个子进程，其实不然。这种方式会创造2^n-1个子进程。为什么呢？因为创建出第一个子进程后,该子进程仍然会复用父进程的代码段，因此会继续执行该循环(此时的循环计数i已经增加)，所以除了父进程外，子进程也会继续执行fork。最后的结果就像一颗二叉树一样，其叶子节点所在的层就是最终的进程数目：2^n（包含父进程）


那么，如何创建n个子进程呢？只需要在循环中稍微添加一段：
        for(int i = 0 ; i < n ; ++i){
                int pid = fork();
		if(pid == 0) break; //如果是子进程,跳出循环
        }

这样，就能保证创建出n个子进程了。

最终效果可以在fork_test.cpp中查看，对应函数fork_test_1和fork_test_2

#关于进程打印信息

如以下两种代码:
 	for(int i = 0 ; i < 2 ; ++i){
                int pid = fork();
		cout<<"-\n";
        }


        for(int i = 0 ; i < 2 ; ++i){
                int pid = fork();
                cout<<"-";
        }

最终两者打印有什么区别呢？答案是，第一种会打印出6个“-”，第二种会打印出8个“-”。其原因在于，\n会清除缓冲区内容，而由于子进程复制了父进程的缓冲区，若不清除缓冲区内容，子进程会额外在父进程的缓冲区之上打印。

最终效果可以在fork_test.cpp中查看，对应函数fork_test_3和fork_test_4
